<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f0f0;
        }

        .container {
            text-align: center;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-gap: 5px;
            margin-top: 20px;
        }

        .cell {
            width: 100px;
            height: 100px;
            border: 1px solid #ccc;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2em;
            cursor: pointer;
        }

        .cell:hover {
            background-color: #eee;
        }

        /* Add more styles for visual enhancements here */

    </style>
</head>
<body class="bg-gray-100">
    <div class="container">
        <h1 class="text-3xl font-semibold mb-4">Tic Tac Toe</h1>
        <p class="text-gray-600 mb-4">Player 1: <span id="player1-score">0</span> | Player 2: <span id="player2-score">0</span></p>
        <div class="board" id="board">
            <div class="cell" data-index="0"></div>
            <div class="cell" data-index="1"></div>
            <div class="cell" data-index="2"></div>
            <div class="cell" data-index="3"></div>
            <div class="cell" data-index="4"></div>
            <div class="cell" data-index="5"></div>
            <div class="cell" data-index="6"></div>
            <div class="cell" data-index="7"></div>
            <div class="cell" data-index="8"></div>
        </div>
        <button id="reset-button" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700">Reset Game</button>
    </div>

    <script>
        const board = document.getElementById('board');
        const cells = document.querySelectorAll('.cell');
        const resetButton = document.getElementById('reset-button');
        const player1Score = document.getElementById('player1-score');
        const player2Score = document.getElementById('player2-score');

        let currentPlayer = 'X';
        let gameBoard = ['', '', '', '', '', '', '', '', ''];
        let gameActive = true;
        let p1Score = 0;
        let p2Score = 0;
        let timer;
        let timeLeft = 10;

        function startGame() {
            cells.forEach(cell => cell.addEventListener('click', handleCellClick));
            resetButton.addEventListener('click', resetGame);
            updateScoreboard();
        }

        function handleCellClick(event) {
            const cell = event.target;
            const index = cell.dataset.index;

            if (gameBoard[index] === '' && gameActive) {
                gameBoard[index] = currentPlayer;
                cell.textContent = currentPlayer;
                cell.classList.add(currentPlayer === 'X' ? 'text-blue-500' : 'text-green-500'); // Placeholder for styles

                checkWin();
                switchPlayer();
            }
        }

        function switchPlayer() {
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            resetTimer();
        }

        function checkWin() {
            const winPatterns = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
                [0, 4, 8], [2, 4, 6]             // Diagonals
            ];

            for (const pattern of winPatterns) {
                const [a, b, c] = pattern;
                if (gameBoard[a] && gameBoard[a] === gameBoard[b] && gameBoard[a] === gameBoard[c]) {
                    gameActive = false;
                    updateScore(gameBoard[a]);
                    return;
                }
            }

            if (!gameBoard.includes('')) {
                gameActive = false;
                return;
            }
        }

        function updateScore(winner) {
            if (winner === 'X') {
                p1Score++;
            } else {
                p2Score++;
            }
            updateScoreboard();
            if (p1Score >= 3 || p2Score >= 3) {
              alert(`${winner} has won overall game`);
              p1Score = 0;
              p2Score = 0;
              updateScoreboard();
            }
        }

        function updateScoreboard() {
            player1Score.textContent = p1Score;
            player2Score.textContent = p2Score;
        }

        function resetGame() {
            gameBoard = ['', '', '', '', '', '', '', '', ''];
            gameActive = true;
            currentPlayer = 'X';
            cells.forEach(cell => {
                cell.textContent = '';
                cell.classList.remove('text-blue-500', 'text-green-500');
            });
            resetTimer();
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                // Update timer display - placeholder

                if (timeLeft <= 0) {
                    switchPlayer();
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timer);
            timeLeft = 10;
            startTimer();
        }

        startGame();
        resetTimer();

    </script>
</body>
</html>